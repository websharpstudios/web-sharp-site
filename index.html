<!DOCTYPE html>
<html>
<head>
  <title>Campground Map</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBcCay9QAdSqSrWB7Y7HiahIAa7TBsyipc&callback=initMap" async defer></script>
  <style>
    #map {
      height: 600px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    function initMap() {
  const map = new google.maps.Map(document.getElementById('map'), {
    center: { lat: 42.86862146054785, lng: -122.1677826463598 }, // Center the map on Crater Lake
    zoom: 10
  });

  // Loop through the JSON data and add markers for each campground
  const campgrounds = JSON.parse("").data;
  campgrounds.forEach(campground => {
    const marker = new google.maps.Marker({
      position: { lat: parseFloat(campground.latitude), lng: parseFloat(campground.longitude) },
      map: map,
      title: campground.name
    });

    // Add an info window to the marker
    const infoWindow = new google.maps.InfoWindow({
      content: `
        <h3>${campground.name}</h3>
        <p>${campground.description}</p>
        <a href="${campground.url}">Learn More</a>
      `
    });

    // Open the info window when the marker is clicked
    marker.addListener('click', () => {
      infoWindow.open(map, marker);
    });
  });
}

  </script>
</body>
</html>
